<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8">
    <title>Swiper demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1,user-scalable=no">
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="js/swiper.min.css">
    <link rel="stylesheet" href="css/mian.css">
    <style>

    </style>
</head>
<body >

    <div class="swiper-container wrap" >
        <div id="music" class="p1musle"></div>
        <audio id="aud" src="audio/Promise.mp3" autoplay="autoplay"></audio>
            
        <div class="swiper-wrapper ">

            <div class="swiper-slide stop-swiping page1" style="width: 100%;">
                <div >
                    <img src="images/bg1.jpg">
                </div>
                <div class="diff">
                    <img src="images/diff1.png" >
                    <img src="images/diff2.png" >
                    <img src="images/diff3.png" >
                    <img src="images/logo.png" id="logo">
                </div>
                <div class="door">
                <div style="position: relative;top: 0px;left: 0px;z-index: 5;"><img src="images/hua.jpg"></div>
                    <div class="left-door"></div>
                    <div class="right-door"></div>
                </div>
                <div class="arrow">
                    <img src="images/arrow-up.png" alt="">
                    <span class="font">点击门进入</span>
                </div>
            </div>

            <div class="swiper-slide " >
            	<img src="images/bg2_01.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_02.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_03.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_04.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_05.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_06.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_07.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_08.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_09.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/bg2_10.jpg" alt="2">
            </div>
            <div class="swiper-slide " >
                <img src="images/girl.gif" alt="2">
            </div>
    </div>
            
    <script src="js/swiper.min.js"></script>
    <script src="js/jquery.js"></script>

    <script >

        var swiper = new Swiper('.swiper-container', {
            noSwipingClass : 'stop-swiping',//不能滑动的类
            slidesPerView: 1,
            freeMode: true,
            freeModeMomentum : false,
            resistanceRatio : 0,//阻力回系数
            //第二页不能左滑动
            onTouchStart:function (swiper,event) {
                console.log(swiper.activeIndex)
                if (swiper.activeIndex == 1) {
                    swiper.lockSwipeToPrev();
                }else {
                    swiper.unlockSwipeToPrev();
                }
            }

        });

    </script>
    <!-- <script src="js/main.js"></script> -->
    <script >
        $(function () {
            $('.door').on('click tap',function () {
                setTimeout(function () {
                       swiper.slideTo(1, 0,false)
                },2000 )

               $('.left-door').css({'animation':'moveLeft 2s infinite'})
               $('.right-door').css({'animation':'moveRight 2s infinite'})
               $('.page1').css({'transition':'all 2s','transform':'scale(1.8)'})
            })

            var music = $("#music")
            var aud = $("#aud")[0]
            aud.play()
            music.on('click tap',function () {
                if(aud.paused){
                    aud.play()
                    this.style.background =  "url('images/musicBtn.png')"
                    this.style.backgroundSize =  "100% 100%"
                    this.style.animation = "rotateArrow 5s infinite linear" 
                }else{
                    aud.pause()
                    this.style.background =  "url('images/musicBtnOff.png')"
                    this.style.backgroundSize =  "100% 100%"
                    this.style.animation= "null"
                }
            })
            //diff扩散
            var shade = function () {
                $('.diff > img:eq(0)').addClass('shade').css({opacity: 1})

                setTimeout(function () {
                    $('.diff > img:eq(1)').addClass('shade').css({opacity: 1})
                }, 300)

                setTimeout(function () {
                    $('.diff > img:eq(2)').addClass('shade').css({opacity: 1})
                }, 600)

                setTimeout(function () {
                    $('.diff > img:eq(0)').removeClass('shade').css({opacity: 0})
                    $('.diff > img:eq(1)').removeClass('shade').css({opacity: 0})
                    $('.diff > img:eq(2)').removeClass('shade').css({opacity: 0})
                }, 950)
            }
            setInterval(shade, 1000)

        })
    </script>
</body>
</html>
